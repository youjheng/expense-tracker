<div class="row mt-5">
  <div class="col-md-6 m-auto">

    <form action="/filter" method="GET">
      <div class="input-group mb-5">
        <select class="form-select" id="category" name="category" onchange="this.form.submit()">
          <option value="">所有類別</option>
          <option value="家居物業">家居物業</option>
          <option value="交通出行">交通出行</option>
          <option value="休閒娛樂">休閒娛樂</option>
          <option value="餐飲食品">餐飲食品</option>
          <option value="其他">其他</option>
        </select>
      </div>
    </form>

    <div class="d-flex justify-content-between m-3">
      <h5>總金額：</h5>
      <h1 class="text-danger">{{ totalAmount }}</h1>
    </div>

    <ul class="list-group list-group-flush">
      {{#each records}}
      <li class="list-group-item list-group-item-action">
        <div class="col-auto d-flex align-items-center">
          <i class="{{ this.category }} me-3 mb-2 fs-2 text-info"></i>
          <div class="me-auto">
            <h5 style="display: inline; vertical-align: middle;">
              {{ this.name }}
            </h5>
            <small><p>{{ this.date }}</p></small>
          </div>
          <h4>{{ this.amount }}</h4>
          <div class="d-flex ms-5">
            <a class="btn btn-outline-secondary m-1" href="./records/{{ this._id }}/edit">修改</a>
            <form action="./records/{{ this._id }}?_method=DELETE" method="POST" style="display: inline;">
              <button class="btn btn-outline-secondary m-1" type="submit">刪除</button>
            </form>
          </div>
        </div>
      </li>
      {{/each}}
    </ul>

    <a class="btn btn-danger d-grid col-4 mx-auto m-3" href="/records/new">新增支出</a>

  </div>
</div>
